<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>正则捕获懒惰性的原理和解决方案</title>
</head>
<body>
    
<script>

/* 正则匹配的懒惰性 */
var reg = /\d+/;
var str = '新年快乐2018猪事顺利2019';
reg.lastIndex;          //  0
reg.exec(str)[0];       //  2018
reg.lastIndex = 8;      //  这里手动设置 lastindex 值为 8
reg.lastIndex;          //  8
reg.exec(str)[0];       //  2018


/* 为什么加修饰符 g 就解决了懒惰性 */
var reg = /\d+/g;
var str = '新年快乐2018猪事顺利2019';
reg.lastIndex;         //  0
reg.exec(str)[0];      //  2018
reg.lastIndex;         //  8
reg.exec(str)[0];      //  2019
reg.lastIndex;         //  16
reg.exec(str);         //  null
reg.lastIndex;         //  0
reg.exec(str)[0];      //  2018


</script>

</body>
</html>